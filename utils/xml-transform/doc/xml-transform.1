.\" Automatically generated by Pandoc 2.5
.\"
.TH "xml\-transform" "1" "2025\-12\-04" "" "xml\-utils"
.hy
.SH NAME
.PP
xml\-transform \- Apply XSL transformations to XML documents
.SH SYNOPSIS
.IP
.nf
\f[C]
xml\-transform [\-cdfIilnqSvh?]
              [\-s <stylesheet> [(\-P|\-p) <name>=<value> ...] ...]
              [(\-E|\-e) <xpath> ...]
              [\-o <output file>] [<input file> ...]
\f[R]
.fi
.SH DESCRIPTION
.PP
Applies one or more XSLT stylesheets to one or more XML documents.
.SH OPTIONS
.TP
.B \-c, \-\-combine
Transform the input files as a single, combined XML document, rather
than as individual documents.
.TP
.B \-d, \-\-preserve\-dtd
Preserve the DTD of the original document when transforming.
.TP
.B \-E, \-\-extract\-text <xpath>
Extracts the text value(s) of the node(s) matching the given XPath
expression.
.RS
.PP
If the expression matches a single node, the text value is output
as\-is.
.PP
If the expression matches multiple nodes, their text values will be
output separated by a separator string and terminated by a terminator
string.
.PP
The default separator is a line break character, but this can be changed
by specifying a \f[C]separator\f[R] parameter after the path.
For example:
.IP
.nf
\f[C]
$ xml\-transform \-E /foo/bar \-P separator=, test.xml
\f[R]
.fi
.PP
will separate the values with commas.
.PP
The default terminator is also a line break character, but this can be
changed by specifying a \f[C]terminator\f[R] parameter after the path.
For example:
.IP
.nf
\f[C]
$ xml\-transform \-E /foo/bar \-P terminator= test.xml
\f[R]
.fi
.PP
will output no terminator after the values.
.PP
If there are any subsequent \-s/\-E/\-e options, then the extracted text
will be parsed as XML and passed to the next stylesheet.
.RE
.TP
.B \-e, \-\-extract <xpath>
Extracts the node(s) matching the given XPath expression.
.RS
.PP
The document consisting of the extracted node(s) is passed to any
subsequent \-s (\-\-stylesheet), \-E (\-\-extract\-text) or \-e options.
.RE
.TP
.B \-f, \-\-overwrite
Overwrite the specified files instead of writing to stdout.
.TP
.B \-h, \-?, \-\-help
Show usage message.
.TP
.B \-I, \-\-dump\-identity
Outputs the identity stylesheet to stdout.
This can be useful as a template for new stylesheets.
.TP
.B \-i, \-\-identity
Includes an \[dq]identity\[dq] template in to each specified stylesheet.
.TP
.B \-l, \-\-list
Treat input (stdin or arguments) as lists of files to transform, rather
than files themselves.
.TP
.B \-n, \-\-null\-input
Use a minimal XML document as input instead of any files or stdin.
This allows for executing a transformation script without needing a
\[dq]real\[dq] XML document as input.
.RS
.PP
The \[dq]null\[dq] document consists of single element named
\[dq]a\[dq].
.RE
.TP
.B \-o, \-\-out <file>
Output to <file> instead of stdout.
This option only makes sense when the input is a single XML document.
.TP
.B \-P, \-\-string\-param <name>=<value>
Pass a string parameter to the last specified stylesheet.
If specified before any stylesheets, the parameter will be passed to all
stylesheets.
This is essentially equivalent to
\f[C]\-p \[dq]name=\[aq]value\[aq]\[dq]\f[R], though it will
auto\-detect if the value string contains single or double quotes and
use the opposite.
Strings with both single and double quotes cannot be used.
.TP
.B \-p, \-\-param <name>=<value>
Pass a parameter to the last specified stylesheet.
If specified before any stylesheets, the parameter will be passed to all
stylesheets.
.TP
.B \-q, \-\-quiet
Quiet mode.
Errors are not printed.
.TP
.B \-S, \-\-xml\-stylesheets
Apply stylesheets that are associated to each XML document with the
\f[C]xml\-stylesheet\f[R] processing instruction.
Associated stylesheets are applied before any user\-specified
stylesheets, in the order in which they occur within the document.
.TP
.B \-s, \-\-stylesheet <stylesheet>
An XSLT stylesheet file to apply to each XML document.
Multiple stylesheets can be specified by supplying this argument
multiple times.
The stylesheets will be applied in the order they are listed.
.TP
.B \-v, \-\-verbose
Verbose output.
.TP
.B \-\-version
Show version information.
.TP
.B <file> ...
Any number of XML documents to apply all specified stylesheets to.
.PP
In addition, the following options allow configuration of the XML
parser:
.TP
.B \-\-dtdload
Load the external DTD.
.TP
.B \-\-html
Parse input files as HTML.
.TP
.B \-\-huge
Remove any internal arbitrary parser limits.
.TP
.B \-\-net
Allow network access to load external DTD and entities.
.TP
.B \-\-noent
Resolve entities.
.TP
.B \-\-xinclude
Do XInclude processing.
.TP
.B \-\-xml\-catalog <file>
Use an XML catalog when resolving entities.
Multiple catalogs may be loaded by specifying this option multiple
times.
.SS Identity template
.PP
The \-i option includes an \[dq]identity\[dq] template in to each
stylesheet specified with the \-s option.
The template is equivalent to this XSL:
.IP
.nf
\f[C]
<xsl:template match=\[dq]\[at]*|node()\[dq]>
<xsl:copy>
<xsl:apply\-templates select=\[dq]\[at]*|node()\[dq]/>
</xsl:copy>
</xsl:template>
\f[R]
.fi
.PP
This means that any attributes or nodes which are not matched by a more
specific template in the user\-specified stylesheet are copied.
.PP
The \-I (\-\-dump\-identity) option can be used to output a stylesheet
consisting of just this template to stdout.
This can be used as a quick way to create a new stylesheet by
redirecting the output to a file:
.IP
.nf
\f[C]
$ xml\-transform \-I > newstyle.xsl
\f[R]
.fi
.SH EXAMPLES
.PP
Transform a document using a single stylesheet and output the result:
.IP
.nf
\f[C]
$ xml\-transform \-s style1.xsl doc1.xml
\f[R]
.fi
.PP
Transform a document using multiple stylesheets and output the result:
.IP
.nf
\f[C]
$ xml\-transform \-s style1.xsl \-s style2.xsl doc1.xml
\f[R]
.fi
.PP
Transform multiple documents using a stylesheet and overwrite with the
result:
.IP
.nf
\f[C]
$ xml\-transform \-s style1.xsl \-f doc1.xml doc2.xml doc3.xml
\f[R]
.fi
.PP
Extract node(s) from a document:
.IP
.nf
\f[C]
$ xml\-transform \-e /foo/bar doc1.xml
\f[R]
.fi
.PP
Extract a node from a document and then apply a stylesheet to it:
.IP
.nf
\f[C]
$ xml\-transform \-e /foo/bar \-s style1.xsl doc1.xsl
\f[R]
.fi
.PP
Extract the text value of a node from a document:
.IP
.nf
\f[C]
$ xml\-transform \-E /foo/bar doc1.xml
\f[R]
.fi
.PP
Get the number of a certain node anywhere in a document:
.IP
.nf
\f[C]
$ xml\-transform \-e \[aq]count(//bar)\[aq] doc1.xml
\f[R]
.fi
.SH AUTHORS
khzae.net.
